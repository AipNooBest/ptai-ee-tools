openapi: 3.0.0
info:
  title: Swaggy Jenkins
  description: Jenkins API clients generated from Swagger / Open API specification
  version: 1.0.1
  contact:
    name: Cliffano Subagio
    url: 'http://github.com/cliffano/swaggy-jenkins'
    email: blah@cliffano.com
servers:
  - url: http://localhost:8080/jenkins
paths:
  ########################################
  # Remote Access API paths
  ########################################
  /api/json:
    head:
      description: Retrieve Jenkins headers
      operationId: headJenkins
      responses:
        '200':
          description: Successfully retrieved Jenkins headers
          headers:
            x-jenkins:
              description: Jenkins version number
              schema:
                type: string
        '401':
          $ref: '#/components/responses/unauthorized'
        '403':
          $ref: '#/components/responses/forbidden'
      security:
        - jenkins_auth: []
      tags:
        - remoteAccess
    get:
      description: Retrieve Jenkins details
      operationId: getJenkins
      responses:
        '200':
          description: Successfully retrieved Jenkins details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Hudson'
        '401':
          $ref: '#/components/responses/unauthorized'
        '403':
          $ref: '#/components/responses/forbidden'
      security:
        - jenkins_auth: []
      tags:
        - remoteAccess
  /computer/api/json:
    get:
      description: Retrieve computer details
      operationId: getComputer
      parameters:
        - name: depth
          description: Recursion depth in response model
          in: query
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successfully retrieved computer details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ComputerSet'
        '401':
          $ref: '#/components/responses/unauthorized'
        '403':
          $ref: '#/components/responses/forbidden'
      security:
        - jenkins_auth: []
      tags:
        - remoteAccess
  /crumbIssuer/api/json:
    get:
      description: Retrieve CSRF protection token
      operationId: getCrumb
      responses:
        '200':
          description: Successfully retrieved CSRF protection token
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultCrumbIssuer'
        '401':
          $ref: '#/components/responses/unauthorized'
        '403':
          $ref: '#/components/responses/forbidden'
      security:
        - jenkins_auth: []
      tags:
        - remoteAccess
  /job/{name}/api/json:
    get:
      description: Retrieve job details
      operationId: getJob
      parameters:
        - $ref: '#/components/parameters/jobName'
      responses:
        '200':
          description: Successfully retrieved job details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FreeStyleProject'
        '401':
          $ref: '#/components/responses/unauthorized'
        '403':
          $ref: '#/components/responses/forbidden'
        '404':
          $ref: '#/components/responses/jobNotFound'
      security:
        - jenkins_auth: []
      tags:
        - remoteAccess
  /job/{name}/build:
    post:
      description: Build a job
      operationId: postJobBuild
      parameters:
        - $ref: '#/components/parameters/jobName'
        - name: json
          in: query
          required: true
          schema:
            type: string
        - name: token
          in: query
          required: false
          schema:
            type: string
        - $ref: '#/components/parameters/crumb'
      responses:
        '200':
          description: >-
            Successfully built the job (backward compatibility for older
            versions of Jenkins)
        '201':
          description: Successfully built the job
        '401':
          $ref: '#/components/responses/unauthorized'
        '403':
          $ref: '#/components/responses/forbidden'
        '404':
          $ref: '#/components/responses/jobNotFound'
      security:
        - jenkins_auth: []
      tags:
        - remoteAccess
  /job/{name}/buildWithParameters:
    post:
      description: Build a job with parameters
      operationId: postJobBuildWithParameters
      parameters:
        - $ref: '#/components/parameters/jobName'
        - name: delay
          in: query
          required: true
          schema:
            type: integer
        - name: PTAI_NODE_NAME
          in: query
          required: true
          schema:
            type: string
        - name: PTAI_PROJECT_NAME
          in: query
          required: true
          schema:
            type: string
        - name: PTAI_SETTINGS_JSON
          in: query
          required: false
          schema:
            type: string
        - name: PTAI_POLICY_JSON
          in: query
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/crumb'
      responses:
        '200':
          description: >-
            Successfully built the job (backward compatibility for older
            versions of Jenkins)
        '201':
          description: Successfully built the job
        '401':
          $ref: '#/components/responses/unauthorized'
        '403':
          $ref: '#/components/responses/forbidden'
        '404':
          $ref: '#/components/responses/jobNotFound'
      security:
        - jenkins_auth: []
      tags:
        - remoteAccess
  /job/{name}/api/xml:
    get:
      description: Retrieve job's build details with extended functionality like sub-tree selection and XPath
      operationId: getJobBuildExt
      parameters:
        - $ref: '#/components/parameters/jobName'
        - name: tree
          description: Tree to read. In order to get queueId-buildId mapping set tree to builds[number,queueId]
          in: query
          required: false
          schema:
            type: string
        - name: xpath
          description: XPath to apply to results. For queueId-buildId mapping set xpath to //build[queueId="303"]
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Successfully retrieved job's build details
          content:
            text/xml:
              schema:
                type: string
        '401':
          $ref: '#/components/responses/unauthorized'
        '403':
          $ref: '#/components/responses/forbidden'
        '404':
          $ref: '#/components/responses/jobNotFound'
      security:
        - jenkins_auth: []
      tags:
        - remoteAccess
  /job/{name}/{buildId}/api/json:
    get:
      description: Retrieve job's build details
      operationId: getJobBuild
      parameters:
        - $ref: '#/components/parameters/jobName'
        - name: buildId
          description: Build ID
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successfully retrieved job's build details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FreeStyleBuild'
        '401':
          $ref: '#/components/responses/unauthorized'
        '403':
          $ref: '#/components/responses/forbidden'
        '404':
          $ref: '#/components/responses/jobNotFound'
      security:
        - jenkins_auth: []
      tags:
        - remoteAccess
  /job/{name}/{buildId}/artifact/{artifactName}:
    get:
      description: Retrieve job's build details
      operationId: getJobBuildArtifact
      parameters:
        - $ref: '#/components/parameters/jobName'
        - name: buildId
          description: Build ID
          in: path
          required: true
          schema:
            type: string
        - name: artifactName
          description: Artifact Name
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successfully retrieved job's results
          content:
            text/xml:
              schema:
                type: string
        '401':
          $ref: '#/components/responses/unauthorized'
        '403':
          $ref: '#/components/responses/forbidden'
        '404':
          $ref: '#/components/responses/jobNotFound'
      security:
        - jenkins_auth: []
      tags:
        - remoteAccess
  /job/{name}/{buildId}/stop:
    post:
      description: Stop a job
      operationId: postJobBuildStop
      parameters:
        - $ref: '#/components/parameters/jobName'
        - name: buildId
          description: Build ID
          in: path
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/crumb'
      responses:
        '200':
          description: Successfully stopped the job
        '401':
          $ref: '#/components/responses/unauthorized'
        '403':
          $ref: '#/components/responses/forbidden'
        '404':
          $ref: '#/components/responses/jobNotFound'
      security:
        - jenkins_auth: []
      tags:
        - remoteAccess
  /job/{name}/{number}/logText/progressiveText:
    get:
      description: Retrieve job's build progressive text output
      operationId: getJobProgressiveText
      parameters:
        - $ref: '#/components/parameters/jobName'
        - name: number
          description: Build number
          in: path
          required: true
          schema:
            type: string
        - name: start
          description: Starting point of progressive text output
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successfully retrieved job's build progressive text output
          headers:
            X-Text-Size:
              schema:
                type: integer
            X-More-Data:
              schema:
                type: boolean
          content:
            text/xml:
              schema:
                type: string
        '401':
          $ref: '#/components/responses/unauthorized'
        '403':
          $ref: '#/components/responses/forbidden'
        '404':
          $ref: '#/components/responses/jobNotFound'
      security:
        - jenkins_auth: []
      tags:
        - remoteAccess
  /queue/api/json:
    get:
      description: Retrieve queue details
      operationId: getQueue
      responses:
        '200':
          description: Successfully retrieved queue details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Queue'
        '401':
          $ref: '#/components/responses/unauthorized'
        '403':
          $ref: '#/components/responses/forbidden'
      security:
        - jenkins_auth: []
      tags:
        - remoteAccess
  /queue/cancelItem:
    post:
      description: Cancel a build queue item
      operationId: postCancelQueueItem
      parameters:
        - name: id
          description: Queue ID
          in: query
          required: true
          schema:
            type: integer
        - $ref: '#/components/parameters/crumb'
      responses:
        '200':
          description: Successfully cancelled the job
        '401':
          $ref: '#/components/responses/unauthorized'
        '403':
          $ref: '#/components/responses/forbidden'
        '404':
          $ref: '#/components/responses/jobNotFound'
      security:
        - jenkins_auth: []
      tags:
        - remoteAccess
  /queue/item/{number}/api/json:
    get:
      description: Retrieve queued item details
      operationId: getQueueItem
      parameters:
        - name: number
          description: Queue number
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successfully retrieved queued item details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Queue'
        '401':
          $ref: '#/components/responses/unauthorized'
        '403':
          $ref: '#/components/responses/forbidden'
      security:
        - jenkins_auth: []
      tags:
        - remoteAccess
components:
  securitySchemes:
    jenkins_auth:
      type: http
      scheme: basic
    # This was a temporary workaround of using JWT in OpenAPI 2.0, value has to be prefixed with 'Bearer'
    # Need to switch to proper JWT support after upgrading to OpenAPI 3.0
    jwt_auth:
      type: apiKey
      in: header
      name: Authorization
  parameters:
    jobName:
      name: name
      description: Name of the job
      in: path
      required: true
      schema:
        type: string
    viewName:
      name: name
      description: Name of the view
      in: path
      required: true
      schema:
        type: string
    crumb:
      name: Jenkins-Crumb
      description: CSRF protection token
      in: header
      required: false
      schema:
        type: string
    orgName:
      name: organization
      description: Name of the organization
      in: path
      required: true
      schema:
        type: string
    pipelineName:
      name: pipeline
      description: Name of the pipeline
      in: path
      required: true
      schema:
        type: string
    branchName:
      name: branch
      description: Name of the branch
      in: path
      required: true
      schema:
        type: string
    queueItemName:
      name: queue
      description: Name of the queue item
      in: path
      required: true
      schema:
        type: string
    runName:
      name: run
      description: Name of the run
      in: path
      required: true
      schema:
        type: string
    nodeName:
      name: node
      description: Name of the node
      in: path
      required: true
      schema:
        type: string
    stepName:
      name: step
      description: Name of the step
      in: path
      required: true
      schema:
        type: string
    scmName:
      name: scm
      description: Name of SCM
      in: path
      required: true
      schema:
        type: string
    scmOrgName:
      name: scmOrganisation
      description: Name of the SCM organization
      in: path
      required: true
      schema:
        type: string
    repositoryName:
      name: repository
      description: Name of the SCM repository
      in: path
      required: true
      schema:
        type: string
    className:
      name: class
      description: Name of the class
      in: path
      required: true
      schema:
        type: string
    folderName:
      name: folder
      description: Name of the folder
      in: path
      required: true
      schema:
        type: string
    userName:
      name: username
      description: Name of the username
      in: path
      required: true
      schema:
        type: string
  responses:
    unauthorized:
      description: Authentication failed - incorrect username and/or password
    forbidden:
      description: Jenkins requires authentication - please set username and password
    jobNotFound:
      description: Job cannot be found on Jenkins instance
    viewNotFound:
      description: View cannot be found on Jenkins instance
    pipelineNotFound:
      description: Pipeline cannot be found on Jenkins instance
    errorInHtml:
      description: >-
        An error has occurred - error message is embedded inside the HTML
        response
      content:
        '*/*':
          schema:
            type: string
  ########################################
  # Remote Access API  definitions
  # Generated using swaggy-jenkins-cli
  ########################################
  schemas:
    FreeStyleBuild:
      type: object
      properties:
        _class:
          type: string
        number:
          type: integer
        url:
          type: string
        actions:
          type: array
          items:
            $ref: '#/components/schemas/CauseAction'
        artifacts:
          type: array
          items:
            $ref: '#/components/schemas/Artifact'
        building:
          type: boolean
        description:
          type: string
        displayName:
          type: string
        duration:
          type: integer
        estimatedDuration:
          type: integer
        executor:
          type: object
          properties:
            _class:
              type: string
        fullDisplayName:
          type: string
        id:
          type: string
        keepLog:
          type: boolean
        queueId:
          type: integer
        result:
          type: string
        timestamp:
          type: string
        builtOn:
          type: string
        changeSet:
          $ref: '#/components/schemas/EmptyChangeLogSet'
    HudsonMasterComputerExecutors:
      type: object
      properties:
        currentExecutable:
          $ref: '#/components/schemas/FreeStyleBuild'
        idle:
          type: boolean
        likelyStuck:
          type: boolean
        number:
          type: integer
        progress:
          type: integer
        _class:
          type: string
    Label1:
      type: object
      properties:
        _class:
          type: string
    SwapSpaceMonitorMemoryUsage2:
      type: object
      properties:
        _class:
          type: string
        availablePhysicalMemory:
          type: integer
        availableSwapSpace:
          type: integer
        totalPhysicalMemory:
          type: integer
        totalSwapSpace:
          type: integer
    DiskSpaceMonitorDescriptorDiskSpace:
      type: object
      properties:
        _class:
          type: string
        timestamp:
          type: integer
        path:
          type: string
        size:
          type: integer
    ResponseTimeMonitorData:
      type: object
      properties:
        _class:
          type: string
        timestamp:
          type: integer
        average:
          type: integer
    ClockDifference:
      type: object
      properties:
        _class:
          type: string
        diff:
          type: integer
    HudsonMasterComputermonitorData:
      type: object
      properties:
        hudson.node_monitors.SwapSpaceMonitor:
          $ref: '#/components/schemas/SwapSpaceMonitorMemoryUsage2'
        hudson.node_monitors.TemporarySpaceMonitor:
          $ref: '#/components/schemas/DiskSpaceMonitorDescriptorDiskSpace'
        hudson.node_monitors.DiskSpaceMonitor:
          $ref: '#/components/schemas/DiskSpaceMonitorDescriptorDiskSpace'
        hudson.node_monitors.ArchitectureMonitor:
          type: string
        hudson.node_monitors.ResponseTimeMonitor:
          $ref: '#/components/schemas/ResponseTimeMonitorData'
        hudson.node_monitors.ClockMonitor:
          $ref: '#/components/schemas/ClockDifference'
        _class:
          type: string
    HudsonMasterComputer:
      type: object
      properties:
        _class:
          type: string
        displayName:
          type: string
        executors:
          type: array
          items:
            $ref: '#/components/schemas/HudsonMasterComputerExecutors'
        icon:
          type: string
        iconClassName:
          type: string
        idle:
          type: boolean
        jnlpAgent:
          type: boolean
        launchSupported:
          type: boolean
        loadStatistics:
          $ref: '#/components/schemas/Label1'
        manualLaunchAllowed:
          type: boolean
        monitorData:
          $ref: '#/components/schemas/HudsonMasterComputermonitorData'
        numExecutors:
          type: integer
        offline:
          type: boolean
        offlineCause:
          type: string
        offlineCauseReason:
          type: string
        temporarilyOffline:
          type: boolean
    ComputerSet:
      type: object
      properties:
        _class:
          type: string
        busyExecutors:
          type: integer
        computer:
          type: array
          items:
            $ref: '#/components/schemas/HudsonMasterComputer'
        displayName:
          type: string
        totalExecutors:
          type: integer
    DefaultCrumbIssuer:
      type: object
      properties:
        _class:
          type: string
        crumb:
          type: string
        crumbRequestField:
          type: string
    HudsonassignedLabels:
      type: object
      properties:
        _class:
          type: string
    FreeStyleProject:
      type: object
      properties:
        _class:
          type: string
        name:
          type: string
        url:
          type: string
        color:
          type: string
        actions:
          type: array
          items:
            $ref: '#/components/schemas/FreeStyleProjectactions'
        description:
          type: string
        displayName:
          type: string
        displayNameOrNull:
          type: string
        fullDisplayName:
          type: string
        fullName:
          type: string
        buildable:
          type: boolean
        builds:
          type: array
          items:
            $ref: '#/components/schemas/FreeStyleBuild'
        firstBuild:
          $ref: '#/components/schemas/FreeStyleBuild'
        healthReport:
          type: array
          items:
            $ref: '#/components/schemas/FreeStyleProjecthealthReport'
        inQueue:
          type: boolean
        keepDependencies:
          type: boolean
        lastBuild:
          $ref: '#/components/schemas/FreeStyleBuild'
        lastCompletedBuild:
          $ref: '#/components/schemas/FreeStyleBuild'
        lastFailedBuild:
          $ref: '#/components/schemas/FreeStyleBuild'
        lastStableBuild:
          $ref: '#/components/schemas/FreeStyleBuild'
        lastSuccessfulBuild:
          $ref: '#/components/schemas/FreeStyleBuild'
        lastUnstableBuild:
          $ref: '#/components/schemas/FreeStyleBuild'
        lastUnsuccessfulBuild:
          $ref: '#/components/schemas/FreeStyleBuild'
        nextBuildNumber:
          type: integer
        queueItem:
          type: string
        concurrentBuild:
          type: boolean
        scm:
          $ref: '#/components/schemas/NullSCM'
    AllView:
      type: object
      properties:
        _class:
          type: string
        name:
          type: string
        url:
          type: string
    UnlabeledLoadStatistics:
      type: object
      properties:
        _class:
          type: string
    Hudson:
      type: object
      properties:
        _class:
          type: string
        assignedLabels:
          type: array
          items:
            $ref: '#/components/schemas/HudsonassignedLabels'
        mode:
          type: string
        nodeDescription:
          type: string
        nodeName:
          type: string
        numExecutors:
          type: integer
        description:
          type: string
        jobs:
          type: array
          items:
            $ref: '#/components/schemas/FreeStyleProject'
        primaryView:
          $ref: '#/components/schemas/AllView'
        quietingDown:
          type: boolean
        slaveAgentPort:
          type: integer
        unlabeledLoad:
          $ref: '#/components/schemas/UnlabeledLoadStatistics'
        useCrumbs:
          type: boolean
        useSecurity:
          type: boolean
        views:
          type: array
          items:
            $ref: '#/components/schemas/AllView'
    FreeStyleProjectactions:
      type: object
      properties:
        _class:
          type: string
    FreeStyleProjecthealthReport:
      type: object
      properties:
        description:
          type: string
        iconClassName:
          type: string
        iconUrl:
          type: string
        score:
          type: integer
        _class:
          type: string
    NullSCM:
      type: object
      properties:
        _class:
          type: string
    CauseUserIdCause:
      type: object
      properties:
        _class:
          type: string
        shortDescription:
          type: string
        userId:
          type: string
        userName:
          type: string
    CauseAction:
      type: object
      properties:
        _class:
          type: string
        causes:
          type: array
          items:
            $ref: '#/components/schemas/CauseUserIdCause'
    Artifact:
      type: object
      properties:
        displayPath:
          type: string
        fileName:
          type: string
        relativePath:
          type: string
    EmptyChangeLogSet:
      type: object
      properties:
        _class:
          type: string
        kind:
          type: string
    QueueBlockedItem:
      type: object
      properties:
        _class:
          type: string
        actions:
          type: array
          items:
            $ref: '#/components/schemas/CauseAction'
        blocked:
          type: boolean
        buildable:
          type: boolean
        id:
          type: integer
        inQueueSince:
          type: integer
        params:
          type: string
        stuck:
          type: boolean
        task:
          $ref: '#/components/schemas/FreeStyleProject'
        url:
          type: string
        why:
          type: string
        buildableStartMilliseconds:
          type: integer
    Queue:
      type: object
      properties:
        _class:
          type: string
        items:
          type: array
          items:
            $ref: '#/components/schemas/QueueBlockedItem'
